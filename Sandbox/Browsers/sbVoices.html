<!DOCTYPE html>
<html>
  <head>
    <title>Multi Agent Conversations (Start Page)</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <meta name="viewport" content="width=device-width"/>
    <script language="JavaScript" src= "../Scripts/sbAssistantMgr.js"></script>
    <script language="JavaScript" src= "../Scripts/sbHomepage.js"></script>
    <script language="JavaScript" src= "../Scripts/sbHttpComm.js"></script>
    <script language="JavaScript" src= "../Scripts/sbEnvelopeTools.js"></script>
    <link rel="stylesheet" href="../Scripts/css/styles.css">
    <script language="JavaScript" src= "../Scripts/sbSpeech.js"></script>
    <script language="JavaScript" src= "../Scripts/sbSeqDiag.js"></script>
  </head>

<body>
  <h2><img src="../Media/img/Interoperability_Logo_color.jpg" alt="Interop graphic" height="60" width="300"/><b> OVON Sandbox - Voice Selection</b></h2>
  <div id="lineSeparator"></div>
  <table class="sbTable">
    <tr>
      <td>
        <div id="langInfo"></div>
      </td>
    </tr>
    <tr>
      <td colspan="4">
        <div id="information"></div>
      </td>
    </tr>
    <tr>
      <td>
        <div id="voiceSettings">
          <label for="volume">Volume:</label>
          <input type="range" id="volume" min="0" max="1" step="0.1" value="1" onchange="updateSpeechParams()">
        
          <label for="rate">Rate:</label>
          <input type="range" id="rate" min="0.1" max="2" step="0.1" value="1" onchange="updateSpeechParams()">
          <label for="pitch">Pitch:</label>
          <input type="range" id="pitch" min="0" max="2" step="0.1" value="1" onchange="updateSpeechParams()">
        </div>
      </td>
    </tr>
    <tr>
      <td>
        <div style="display: inline-block;">
          <button id="testBtn" onclick="saveTTS_TestText();" style="margin-top: 5px;">Test Voice</button>
        </div>
        <br>
        <div id="testInput">
          <h7>Input you want to test: </h7>
        </div>
        <br>
        <textarea id="sbTTS_Text">Hello. How do you like this voice?</textarea>
        <br>
        <div id="selectedVoiceInfo"></div>
      </td>
      </td>
    </tr>
    <tr>
      <td align="left" colspan="2">
        <h5><button onclick="startBareInvite()"><b class="ejRed">Sandbox CONVERSATION</b></button></h5>
      </td>
    </tr>
  </table>
  <br/>
  <script>
  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
  if (isSafari) {
    // For Safari, use a setTimeout to delay loading voices
    loadLangSelect();
    loadVoiceSelect();
    // You can adjust the delay based on your needs
  } else {
    // For Chrome and Edge, use the onvoiceschanged event
    window.speechSynthesis.onvoiceschanged = function () {
      loadLangSelect();
      loadVoiceSelect();
    };
  }

  </script>
</body>
</html>
